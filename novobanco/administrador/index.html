<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <!-- Responsividade -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Suspe(c)t</title>
    <!-- <script src="https://cdn.tailwindcss.com"></script> -->

   
    <link rel="stylesheet" href="../index.css" />
    <link rel="stylesheet" href="../adotar/adotar.css" />

    <link rel="stylesheet" href="usuarios.css" />

    <!-- Icones -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
    />
  </head>

  <body>
    <!-- Navbar -->
    <nav class="barranav">
      <div class="logo">
        <img
          src="https://cdn-icons-png.flaticon.com/512/616/616408.png"
          alt="Logo Pet"
        />
        <h1><a href="../"> Suspe(c)t</a></h1>
      </div>

      <ul class="barranavlinks">
        <li>
          <a id="funcaousuario" href="../postar/Deslogado/">
            游냇 Postar animal</a
          >
        </li>
        <li><a href="../ong">游 ONGs</a></li>
        <li><a href="../adotar">游냤 Adotar</a></li>
        <li><a href="../suporte">游 Suporte</a></li>
        <li><a href="../sobre">游눘 Sobre N칩s</a></li>

        <!-- BOT츾O DO GAB, ADICIONAR ESTA PARTE -->
        <li class="menulogin">
          <a class="botaologin">游 Login</a>
          <ul class="tiposlogin">
            <li><a id="tiposlogin1" href="../conta/cadastro">Cadastro</a></li>
            <li><a id="tiposlogin2" href="../conta/login">Login</a></li>
          </ul>
        </li>
      </ul>

      <!-- Bot칚o Hamburguer (mobile) -->
      <div class="barranavmobile">
        <i class="fa-solid fa-bars"> </i>
      </div>
    </nav>

    <!-- Corpo -->

    <div class="titulo">
        <h1>Todos os usuario cadastrados no sistema est칚o aqui.</h1>
      

    <div class="dadosusuario"></div>

    <script src="index.js"></script>

    
    <script>
  // L칩gica do bot칚o hamburguer 
  const hamburguer = document.querySelector(".barranavmobile");
  const navLinks = document.querySelector(".barranavlinks");
  hamburguer.addEventListener("click", () => {
    navLinks.classList.toggle("active");
  });

  // Elementos da navega칞칚o que precisam ser atualizados
  const botaologin = document.querySelector(".botaologin");
  const tiposlogado = document.querySelector(".tiposlogado"); // Menu 'Ver Perfil/Sair'
  const tiposlogin = document.querySelector(".tiposlogin"); // Menu 'Volunt치rio/ONG'
  const postar_animal = document.getElementById("postar_animal"); // Link din칙mico

  // Fun칞칚o para lidar com o clique no Login/Usu치rio
  botaologin.addEventListener("click", () => {
    // Alterna a visibilidade do menu relevante
    if (tiposlogado.classList.contains("active")) {
      tiposlogado.classList.remove("active");
    } else if (tiposlogin.classList.contains("active")) {
      tiposlogin.classList.remove("active");
    }

    // Se a p치gina for acessada por um ADM logado, o menu 'tiposlogado' deve ser mostrado
    if (botaologin.textContent.startsWith("Ol치,")) {
      tiposlogado.classList.toggle("active");
    } else {
      tiposlogin.classList.toggle("active");
    }
    botaologin.classList.toggle("active");
  });

  // Script de verifica칞칚o de login para atualiza칞칚o dos links
  // O caminho 칠 ajustado para o diret칩rio correto (../../conta/verificarlogin.php)
  fetch('../conta/verificarlogin.php')
    .then(response => response.json())
    .then(data => {

      if (data.tipo) {
        // Usu치rio est치 logado
        botaologin.innerHTML = `Ol치, ${data.nome}`;

        // L칩gica de redirecionamento para o link din칙mico
        if (data.tipo === "vol") {
          postar_animal.href = "../../postar"; // Redireciona para postar animal
        } else if (data.tipo === "ong") {
          postar_animal.textContent = "游닉 Postar Campanha";
          postar_animal.href = "../../ong/campanha"; // Redireciona para postar campanha
        } else if (data.tipo === "adm") {
          funcaousuario.textContent = "游녻 Usu치rios";
            funcaousuario.href = "index.html";
        }

        // Garante que o menu de login padr칚o n칚o apare칞a para logados
        tiposlogin.style.display = 'none';

      } else {
        // Usu치rio deslogado: garante que o menu logado n칚o apare칞a
        tiposlogado.style.display = 'none';
      }
    })
    .catch(error => console.error('Erro ao verificar login:', error));
</script>
  </body>

  <!-- Footer -->
  <footer class="footer">
    2025 Suspe(c)t. Todos os direitos reservados ao grupo: Artur Conrratt,
    Eduardo Guilherme, Gabriel Moreno, Marcelo Abreu e Rubens Bavaroski.
  </footer>

  <footer class="footermobile">2025 Suspe(c)t.</footer>
</html>
