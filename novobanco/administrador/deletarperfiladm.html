<!DOCTYPE html>
<html lang="pt-BR">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Confirmar Exclus칚o | Suspe(c)t</title>

  <link rel="stylesheet" href="../index.css" />
  <link rel="stylesheet" href="deletarperfiladm.css" />

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" />
</head>

<body class="tudissimo">
  <nav class="barranav">
   

    <ul class="barranavlinks">
      



      <div class="barranavmobile">
        <i class="fa-solid fa-bars"> </i>
      </div>
  </nav>

  <div class="corpo">
    <div class="perfil_usuario">
      <h1>
        丘멆잺 CONFIRMAR EXCLUS츾O DE PERFIL 丘멆잺
      </h1>

      <p>
        Ao confirmar, todos os DADOS e hist칩rico do USUARIO (OU ONG OU VOLUNT츼RIO) ser칚o
        **permanentemente removidos** do Suspe(c)t.
      </p>

      <p class="aviso-confirmacao">
        Tem certeza que deseja continuar? Esta a칞칚o n칚o pode ser desfeita.
      </p>

      <form action="deletarperfil.php" method="post" id="form-delecao">
        <input type="hidden" id="id_usuario_delecao" name="id" value="" />

        <div class="acoes-perfil">
          <button type="submit" class="btn-deletar">
            SIM, DELETAR CONTA
          </button>

          <button type="button" class="btn-editar" onclick="window.location.href='index.html'">
            CANCELAR E VOLTAR
          </button>
        </div>
      </form>
    </div>
  </div>

  <footer class="footer">
    2025 Suspe(c)t. Todos os direitos reservados ao grupo: Artur Conrratt,
    Eduardo Guilherme, Gabriel Moreno, Marcelo Abreu e Rubens Bavaroski.
  </footer>

  <footer class="footermobile">2025 Suspe(c)t.</footer>
</body>

<script>



  // --- NOVO C칍DIGO PARA CAPTURAR O ID DA URL ---
  const urlParams = new URLSearchParams(window.location.search);
  const userId = urlParams.get('id'); // 'id' 칠 o par칙metro passado pelo bot칚o Deletar

  if (userId) {
    // Define o ID do usu치rio no campo hidden do formul치rio
    document.getElementById("id_usuario_delecao").value = userId;
  } else {
    // Caso o ID n칚o seja encontrado na URL, alerta e redireciona
    alert("ID do usu치rio a ser deletado n칚o especificado.");
    window.location.replace('../index.html'); // Volta para a lista de usu치rios
  }

  // Altera a a칞칚o do formul치rio para o novo script de administra칞칚o
  document.getElementById("form-delecao").action = "deletarperfiladm.php";






  // L칩gica do bot칚o hamburguer 
  const hamburguer = document.querySelector(".barranavmobile");
  const navLinks = document.querySelector(".barranavlinks");
  hamburguer.addEventListener("click", () => {
    navLinks.classList.toggle("active");
  });

  // Elementos da navega칞칚o que precisam ser atualizados
  const botaologin = document.querySelector(".botaologin");
  const tiposlogado = document.querySelector(".tiposlogado"); // Menu 'Ver Perfil/Sair'
  const tiposlogin = document.querySelector(".tiposlogin"); // Menu 'Volunt치rio/ONG'
  const postar_animal = document.getElementById("postar_animal"); // Link din칙mico

  // Fun칞칚o para lidar com o clique no Login/Usu치rio
  botaologin.addEventListener("click", () => {
    // Alterna a visibilidade do menu relevante
    if (tiposlogado.classList.contains("active")) {
      tiposlogado.classList.remove("active");
    } else if (tiposlogin.classList.contains("active")) {
      tiposlogin.classList.remove("active");
    }

    // Se a p치gina for acessada por um ADM logado, o menu 'tiposlogado' deve ser mostrado
    if (botaologin.textContent.startsWith("Ol치,")) {
      tiposlogado.classList.toggle("active");
    } else {
      tiposlogin.classList.toggle("active");
    }
    botaologin.classList.toggle("active");
  });

  
  fetch('../conta/verificarlogin.php')
    .then(response => response.json())
    .then(data => {

      if (data.tipo) {
        // Usu치rio est치 logado
        botaologin.innerHTML = `Ol치, ${data.nome}`;

        // L칩gica de redirecionamento para o link din칙mico
        if (data.tipo === "vol") {
          postar_animal.href = "../../postar"; // Redireciona para postar animal
        } else if (data.tipo === "ong") {
          postar_animal.textContent = "游닉 Postar Campanha";
          postar_animal.href = "../../ong/campanha"; // Redireciona para postar campanha
        } else if (data.tipo === "adm") {
          funcaousuario.textContent = "游녻 Usu치rios";
          funcaousuario.href = "index.html";
        }

        // Garante que o menu de login padr칚o n칚o apare칞a para logados
        tiposlogin.style.display = 'none';

      } else {
        // Usu치rio deslogado: garante que o menu logado n칚o apare칞a
        tiposlogado.style.display = 'none';
      }
    })
    .catch(error => console.error('Erro ao verificar login:', error));

</script>

</html>